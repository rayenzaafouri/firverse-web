{% extends 'base.html.twig' %}

{% block title %}Order #{{ order.id }}{% endblock %}

<<<<<<< HEAD
{% block body %}
{% include 'navbar.html.twig' %}

<div class="container py-5" style="max-width: 900px;">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="h3 font-weight-bold text-primary">Order Details</h1>
        <a href="{{ path('app_order_index') }}" class="btn btn-outline-success">
            <i class="fas fa-arrow-left mr-2"></i>Back to Orders
        </a>
    </div>

    <div class="card border-0 shadow-sm mb-4">
        <div class="card-header bg-white border-bottom-0 py-3">
            <h5 class="mb-0 font-weight-bold">Order Summary</h5>
        </div>
        <div class="card-body pt-0">
            <div class="row">
                <div class="col-md-6">
                    <div class="d-flex mb-3">
                        <span class="text-muted mr-2" style="width: 120px;">Order ID:</span>
                        <span class="font-weight-bold">#{{ order.id }}</span>
                    </div>
                    <div class="d-flex mb-3">
                        <span class="text-muted mr-2" style="width: 120px;">Date:</span>
                        <span>{{ order.orderDate ? order.orderDate|date('Y-m-d H:i') : '-' }}</span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="d-flex mb-3">
                        <span class="text-muted mr-2" style="width: 120px;">Status:</span>
                        <span class="badge 
                            {% if order.status == 'completed' %}bg-success
                            {% elseif order.status == 'processing' %}bg-primary
                            {% elseif order.status == 'cancelled' %}bg-danger
                            {% else %}bg-success{% endif %}">
                            {{ order.status|capitalize }}
                        </span>
                    </div>
                    <div class="d-flex mb-3">
                        <span class="text-muted mr-2" style="width: 120px;">Total Price:</span>
                        <span class="font-weight-bold text-primary">{{ order.totalPrice|number_format(2) }} TND</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card border-0 shadow-sm">
        <div class="card-header bg-white border-bottom-0 py-3">
            <h5 class="mb-0 font-weight-bold">Order Items</h5>
        </div>
        <div class="card-body pt-0">
            {% if order.orderDetails is not empty %}
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead class="bg-light">
                            <tr>
                                <th class="border-0">Product</th>
                                <th class="border-0 text-center">Qty</th>
                                <th class="border-0 text-right">Unit Price</th>
                                <th class="border-0 text-right">Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for detail in order.orderDetails %}
                                <tr>
                                    <td class="align-middle">{{ detail.product.name }}</td>
                                    <td class="align-middle text-center">{{ detail.quantity }}</td>
                                    <td class="align-middle text-right">{{ detail.priceAtPurchase|number_format(2) }} TND</td>
                                    <td class="align-middle text-right font-weight-bold">{{ (detail.quantity * detail.priceAtPurchase)|number_format(2) }} TND</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                        <tfoot class="bg-light">
                            <tr>
                                <td colspan="3" class="text-right font-weight-bold">Order Total:</td>
                                <td class="text-right font-weight-bold text-primary">{{ order.totalPrice|number_format(2) }} TND</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            {% else %}
                <div class="text-center py-4">
                    <i class="fas fa-shopping-basket fa-3x text-muted mb-3"></i>
                    <p class="text-muted">No products found for this order.</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>

=======
{% block stylesheets %}
{{ parent() }}
<link rel="stylesheet" href="{{ asset('/styles/admin.css') }}">
>>>>>>> shop
<style>
    .card {
        border-radius: 10px;
        overflow: hidden;
    }
    .table {
        border-radius: 8px;
    }
    .table thead th {
        border-top: none;
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.8rem;
        letter-spacing: 0.5px;
    }
    .badge {
        padding: 0.5em 0.75em;
        font-size: 0.85rem;
        border-radius: 4px;
    }
<<<<<<< HEAD
    .badge.bg-success {
        background-color: #28a745;

        color: #fff;
    }
    .btn-outline-success{
        border-color: #28a745;
    }
</style>
{% endblock %}
=======
    .badge.bg-success { background-color: #28a745; color: #fff; }
    .btn-outline-success { border-color: #28a745; }
</style>
{% endblock %}

{% block body %}
<div class="admin-dashboard-layout">
    <div id="sidenavAccordion">
        {% include 'back/admin/sidenav.html.twig' %}
    </div>

    <div class="container py-5" style="max-width: 900px;">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3 font-weight-bold text-primary">Order Details</h1>
            <a href="{{ path('app_order_index') }}" class="btn btn-outline-success">Back to Orders</a>
        </div>

        <div class="card border-0 shadow-sm mb-4">
            <div class="card-header bg-white py-3">
                <h5 class="mb-0 font-weight-bold">Order Summary</h5>
            </div>
            <div class="card-body pt-0">
                <div class="row">
                    <div class="col-md-6">
                        <div class="d-flex mb-3">
                            <span class="text-muted mr-2" style="width: 120px;">Order ID:</span>
                            <span class="font-weight-bold">#{{ order.id }}</span>
                        </div>
                        <div class="d-flex mb-3">
                            <span class="text-muted mr-2" style="width: 120px;">Date:</span>
                            <span>{{ order.orderDate ? order.orderDate|date('Y-m-d H:i') : '-' }}</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex mb-3">
                            <span class="text-muted mr-2" style="width: 120px;">Status:</span>
                            <span class="badge 
                                {% if order.status == 'completed' %}bg-success
                                {% elseif order.status == 'processing' %}bg-primary
                                {% elseif order.status == 'cancelled' %}bg-danger
                                {% else %}bg-secondary{% endif %}">
                                {{ order.status|capitalize }}
                            </span>
                        </div>
                        <div class="d-flex mb-3">
                            <span class="text-muted mr-2" style="width: 120px;">Total Price:</span>
                            <span class="font-weight-bold text-primary">{{ order.totalPrice|number_format(2) }} TND</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card border-0 shadow-sm">
            <div class="card-header bg-white py-3">
                <h5 class="mb-0 font-weight-bold">Order Items</h5>
            </div>
            <div class="card-body pt-0">
                {% if order.orderDetails is not empty %}
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="bg-light">
                                <tr>
                                    <th>Product</th>
                                    <th class="text-center">Qty</th>
                                    <th class="text-right">Unit Price</th>
                                    <th class="text-right">Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for detail in order.orderDetails %}
                                    <tr>
                                        <td>{{ detail.product.name }}</td>
                                        <td class="text-center">{{ detail.quantity }}</td>
                                        <td class="text-right">{{ detail.priceAtPurchase|number_format(2) }} TND</td>
                                        <td class="text-right font-weight-bold">
                                            {{ (detail.quantity * detail.priceAtPurchase)|number_format(2) }} TND
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                            <tfoot class="bg-light">
                                <tr>
                                    <td colspan="3" class="text-right font-weight-bold">Order Total:</td>
                                    <td class="text-right text-primary font-weight-bold">
                                        {{ order.totalPrice|number_format(2) }} TND
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                {% else %}
                    <div class="text-center py-4">
                        <i class="fas fa-shopping-basket fa-3x text-muted mb-3"></i>
                        <p class="text-muted">No products found for this order.</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
>>>>>>> shop
