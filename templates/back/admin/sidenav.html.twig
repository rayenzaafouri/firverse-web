<aside>
	<a href="{{ path('admin_dashboard') }}"><img src="/fitverse-white.png" alt="The Fitverse logo" class="logo"></a>

	<ul>
		<li>
			<a class="menu-toggle" data-target="#collapseUser" role="button" aria-expanded="false">
				<img src="{{ asset('images/landing/user.png') }}" alt="User icon">
				<span>User Management</span>
			</a>
			<ul class="collapse" id="collapseUser">
				<li><a href="/admin/exercise/add">Create a new user</a></li>
				<li><a href="/admin/exercise/">Manage users</a></li>
				<li><a href="/admin/">Edit default preferences</a></li>
			</ul>
		</li>

		<li>
			<a class="menu-toggle" data-target="#collapseExercise" role="button" aria-expanded="false">
				<img src="{{ asset('images/landing/exercice.png') }}" alt="Exercise icon">
				<span>Exercise Management</span>
			</a>
			<ul class="collapse" id="collapseExercise">
				<li><a href="/admin/exercises">Manage exercice</a></li>
				<li><a href="/admin/workouts">Manage workout</a></li>
			</ul>
		</li>
		<li>
			<a class="menu-toggle" data-target="#collapseNutrition" role="button" aria-expanded="false">
				<img src="{{ asset('images/landing/meals.png') }}" alt="Meals icon">
				<span>Nutrition Management</span>
			</a>
			<ul class="collapse" id="collapseNutrition">
				<li><a href="{{ path('app_food_index')}}">Manage food</a></li>
				<li><a href="{{ path('app_admin_recipe_index')}}">Manage recipes</a></li>
			</ul>
		</li>

		<li>
			<a class="menu-toggle" data-target="#collapseGym" role="button" aria-expanded="false">
				<img src="{{ asset('images/landing/gyms.png') }}" alt="Workout icon">
				<span>Gym Management</span>
			</a>
			<ul class="collapse" id="collapseGym">
				<li><a href="{{ path('app_gym_index')}}">Manage gyms</a></li>
				<li><a href="{{ path('app_membership_index')}}">Manage memberships</a></li>
			</ul>
		</li>

		<li>
			<a class="menu-toggle" data-target="#collapsedEvents" role="button" aria-expanded="false">
				<img src="{{ asset('images/landing/events.png') }}" alt="Events icon">
				<span>Events Management</span>
			</a>
			<ul class="collapse" id="collapsedEvents">
				<li><a href="/admin/events/">Manage events</a></li>
			</ul>
		</li>

		<li>
			<a class="menu-toggle" data-target="#collapsedMarketplace" role="button" aria-expanded="false">
				<img src="{{ asset('images/landing/shop.png') }}" alt="Marketplace icon">
				<span>Marketplace Management</span>
			</a>
			<ul class="collapse" id="collapsedMarketplace">
				<li><a href="{{ path('app_product_index')}}">Manage products</a></li>
				<li><a href="{{ path('app_category_index')}}">Manage categories</a></li>
				<li><a href="{{ path('app_coupon_index')}}">Manage coupons</a></li>
				<li><a href="{{ path('app_product_discount_index')}}">Manage discounts</a></li>
				<li><a href="{{ path('app_order_index')}}">Manage orders</a></li>
				<li><a href="{{ path('admin_wishlist_index')}}">Manage wishlists</a></li>
			</ul>
		</li>
	</ul>

	<div class="aside-bottom">
		<span class="material-symbols-outlined">shield_person</span>
		<span>{{  app.user.first_name ~ " " ~  app.user.last_name  }}</span>		
		<a href="#" onclick="event.preventDefault(); document.getElementById('logout-form').submit();" class="nav-link d-flex align-items-center text-white">
    <span class="material-symbols-outlined me-2">logout</span>
</a>

<form id="logout-form" action="{{ path('app_logout') }}" method="post" style="display: none;"></form>

	</div>
</aside>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const menuToggles = document.querySelectorAll('.menu-toggle');
    
    menuToggles.forEach(toggle => {
        toggle.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Close all other dropdowns
            menuToggles.forEach(otherToggle => {
                if (otherToggle !== this) {
                    otherToggle.classList.remove('active');
                    const otherId = otherToggle.dataset.target;
                    const otherTarget = document.querySelector(otherId);
                    if (otherTarget) {
                        otherTarget.classList.remove('show');
                    }
                }
            });
            
            // Toggle current dropdown
            const targetId = this.dataset.target;
            const target = document.querySelector(targetId);
            if (target) {
                this.classList.toggle('active');
                target.classList.toggle('show');
                
                // Update aria-expanded
                const isExpanded = target.classList.contains('show');
                this.setAttribute('aria-expanded', isExpanded);
            }
        });
    });
});
</script>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
